//
// Copyright Â© 2021 Anticrm Platform Contributors.
//
// Licensed under the Eclipse Public License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License. You may
// obtain a copy of the License at https://www.eclipse.org/legal/epl-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//
// See the License for the specific language governing permissions and
// limitations under the License.
//

/* Inbox */
.inbox-activity {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  min-width: 0;
  background-color: var(--theme-inbox-activity-bgcolor);

  &__container {
    position: relative;
    display: flex;
    flex-grow: 1;
    flex-shrink: 0;
    min-width: 0;
    min-height: 0;
    font-size: .8125rem;
    border: 1px solid transparent;
    outline: none;

    &:not(.selected) {
      margin: 0 1.75rem;
      cursor: pointer;
    }

    .crop-presenter,
    .inline-presenter { margin: -.3125rem 0; }

    .inbox-activity__content {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      min-width: 0;
      min-height: 0;
      color: var(--theme-caption-color);

      &.shrink { padding: .75rem 0; }
      &:not(.shrink) { padding: 1rem 0; }
      // &.read {}
    }

    .time { color: var(--theme-halfcontent-color); }
    .notify {
      position: absolute;
      top: 1rem;
      left: -1.125rem;
      height: 0.5rem;
      width: 0.5rem;
      background-color: var(--theme-inbox-notify);
      border-radius: 50%;

      &.people {
        top: 1.5rem;
        background-color: var(--theme-inbox-people-notify);
      }
    }
    .counter {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 1.375rem;
      width: 1.375rem;
      color: var(--theme-dark-color);
      background-color: var(--theme-inbox-counter-bgcolor);
      border-radius: 50%;

      &.float {
        position: absolute;
        top: .5625rem;
        right: 0;
      }
      &.people {
        color: var(--theme-inbox-people-notify);
        background-color: var(--theme-inbox-people-counter-bgcolor);
      }
    }
    .arrow {
      position: absolute;
      top: 1.125rem;
      right: 0;
    }

    &:last-child:not(.selected) { border-bottom: 1px solid var(--theme-inbox-activitymsg-divider); }
    &:not(.selected) + &:not(.selected) { border-top-color: var(--theme-inbox-activitymsg-divider); }

    &.selected {
      margin: 0 0.5rem;
      background-color: var(--theme-inbox-activitymsg-bgcolor);
      border: 1px solid var(--theme-inbox-activitymsg-border);
      border-radius: 0.25rem;

      .notify { left: .125rem; }
      .inbox-activity__content {
        padding: 1rem 1.25rem;

        &.shrink { padding: .75rem 1.25rem; }
      }
      .counter {
        visibility: hidden;

        &.float { right: 1.25rem; }
      }
      .arrow { right: 1.25rem; }
    }
  }
}
