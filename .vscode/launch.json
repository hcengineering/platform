{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "address": "127.0.0.1",
      "localRoot": "${workspaceFolder}",
      "name": "Attach to Remote",
      "port": 9229,
      "request": "attach",
      "sourceMaps": true,
      "skipFiles": [
        "<node_internals>/**"
      ],
      "type": "node"
    },
    {
      "name": "Python: Embeddings",
      "type": "python",
      "request": "launch",
      "program": "./pods/embeddings/server.py",
      "args": ["--model", "sentence-transformers/all-MiniLM-L6-v2", "--device", "cpu"],
      "console": "integratedTerminal",
      "justMyCode": true,
      "env": {
        "PYTORCH_ENABLE_MPS_FALLBACK":"1"
      }
    },
    {
      "name": "Debug server",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "ELASTIC_URL": "http://localhost:9200",
        "MONGO_URL": "mongodb://localhost:27017",
        "DB_URL": "mongodb://localhost:27017",
        // "DB_URL": "postgresql://postgres:example@localhost:5432",
        "APM_SERVER_URL2": "http://localhost:8200",
        "METRICS_CONSOLE": "false",
        "METRICS_FILE": "${workspaceRoot}/metrics.txt", // Show metrics in console evert 30 seconds.,
        "STORAGE_CONFIG": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin",
        "SERVER_SECRET": "secret",
        "ENABLE_CONSOLE": "true",
        "COLLABORATOR_URL": "ws://localhost:3078",
        "REKONI_URL": "http://localhost:4004",
        "FRONT_URL": "http://localhost:8080",
        "ACCOUNTS_URL": "http://localhost:3000",
        "MODEL_JSON": "${workspaceRoot}/models/all/bundle/model.json",
        // "SERVER_PROVIDER":"uweb"
        "SERVER_PROVIDER":"ws",
        "MODEL_VERSION": "0.6.287",
        // "VERSION": "0.6.289",
        "ELASTIC_INDEX_NAME": "local_storage_index",
        "UPLOAD_URL": "/files",
        "AI_BOT_URL": "http://localhost:4010"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "showAsyncStacks": true,
      "outputCapture": "std",
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/pods/server",
      "protocol": "inspector"
    },
    {
      "name": "Debug Account",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "MONGO_URL": "mongodb://localhost:27017",
        "DB_URL": "mongodb://localhost:27017",
        // "DB_URL": "postgresql://postgres:example@localhost:5432",
        "SERVER_SECRET": "secret",
        "TRANSACTOR_URL": "ws://host.docker.internal:3333,ws://host.docker.internal:3331;;pg",
        "ACCOUNTS_URL": "http://localhost:3000",
        "REGION_INFO": "|Mongo;pg|Postgree",
        "ACCOUNT_PORT": "3000",
        "FRONT_URL": "http://localhost:8080",
        "STATS_URL": "http://host.docker.internal:4900",
        "SES_URL": "",
        // "DB_NS": "account-2",
        // "WS_LIVENESS_DAYS": "1",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost",
        // "DISABLE_SIGNUP": "true",
        // "INIT_SCRIPT_URL": "https://raw.githubusercontent.com/hcengineering/init/main/script.yaml",
        // "INIT_WORKSPACE": "onboarding",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/pods/account",
      "protocol": "inspector"
    },
    {
      "name": "Debug Stats",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "PORT": "4900",
        "SERVER_SECRET": "secret",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/pods/stats",
      "protocol": "inspector"
    },
    {
      "name": "Debug Workspace",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "MONGO_URL": "mongodb://localhost:27017",
        "DB_URL": "mongodb://localhost:27017",
        "REGION": "",
        // "DB_URL": "postgresql://postgres:example@localhost:5432",
        "SERVER_SECRET": "secret",
        "TRANSACTOR_URL": "ws://localhost:3333",
        "ACCOUNTS_URL": "http://localhost:3000",
        "FRONT_URL": "http://localhost:8080",
        "SES_URL": "",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost",
        "MODEL_VERSION": "v0.6.287"
        // "INIT_SCRIPT_URL": "https://raw.githubusercontent.com/hcengineering/init/main/script.yaml",
        // "INIT_WORKSPACE": "onboarding",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/pods/workspace",
      "protocol": "inspector"
    },
    {
      "name": "Debug Front",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "ELASTIC_URL": "http://localhost:9200",
        "MONGO_URL": "mongodb://localhost:27017",
        "METRICS_CONSOLE": "false",
        "STORAGE_CONFIG": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin",
        "SERVER_SECRET": "secret",
        "REKONI_URL": "http://localhost:4004",
        "FRONT_URL": "http://localhost:8080",
        "ACCOUNTS_URL": "http://localhost:3000",
        "UPLOAD_URL": "/files",
        "SERVER_PORT": "8087",
        "COLLABORATOR_URL": "ws://localhost:3078",
        "CALENDAR_URL": "http://localhost:8095",
        "GMAIL_URL": "http://localhost:8088",
        "TELEGRAM_URL": "http://localhost:8086",
        "MODEL_VERSION": "",
        "VERSION": ""
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "showAsyncStacks": true,
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/pods/front",
      "protocol": "inspector",
      "outputCapture": "std"
    },
    {
      "name": "Debug Collaborator",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts"],
      "env": {
        "SECRET": "secret",
        "METRICS_CONSOLE": "true",
        "ACCOUNTS_URL": "http://localhost:3000",
        "MONGO_URL": "mongodb://localhost:27017",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/pods/collaborator",
      "protocol": "inspector"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Jest tests",
      "program": "${fileDirname}/../../node_modules/@rushstack/heft/lib/start.js",
      "cwd": "${fileDirname}/../../",
      "args": ["--debug", "test", "--clean", "--test-path-pattern", "${file}"],
      "console": "integratedTerminal",
      "sourceMaps": true,
      "protocol": "inspector"
    },
    {
      "name": "Debug generator",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts", "gen-recruit", "ws1", "20"],
      "env": {
        "ACCOUNTS_URL": "ws://localhost:3000",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/dev/generator",
      "protocol": "inspector"
    },
    {
      "name": "Debug backup tool",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "backup", "../temp/backup-test", "platform", "--force"],
      "env": {
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost",
        "SERVER_SECRET": "secret",
        "MONGO_URL": "mongodb://localhost:27017",
        "ACCOUNTS_URL": "http://localhost:3000",
        "TELEGRAM_DATABASE": "telegram-service",
        "ELASTIC_URL": "http://localhost:9200"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/dev/tool",
      "protocol": "inspector",
      "outputCapture": "std",
      "runtimeVersion": "20",
      "showAsyncStacks": true,
    },
    {
      "name": "Debug tool upgrade",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "upgrade", "--force"],
      "env": {
        "SERVER_SECRET": "secret",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost:9000",
        "TRANSACTOR_URL": "ws://localhost:3333",
        "MONGO_URL": "mongodb://localhost:27017",
        "ACCOUNTS_URL": "http://localhost:3000",
        "TELEGRAM_DATABASE": "telegram-service",
        "ELASTIC_URL": "http://localhost:9200",
        "REKONI_URL": "http://localhost:4004",
        "MODEL_VERSION": "0.6.287"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/dev/tool"
    },
    {
      "name": "Debug tool move",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "move-to-pg"],
      "env": {
        "SERVER_SECRET": "secret",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost",
        "TRANSACTOR_URL": "ws://localhost:3333",
        "MONGO_URL": "mongodb://localhost:27017",
        "DB_URL": "postgresql://postgres:example@localhost:5432",
        "ACCOUNTS_URL": "http://localhost:3000",
        "TELEGRAM_DATABASE": "telegram-service",
        "ELASTIC_URL": "http://localhost:9200",
        "REKONI_URL": "http://localhost:4004"
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/dev/tool"
    },
    {
      "name": "Debug backup",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "ACCOUNTS_URL": "http://localhost:3000",
        "STORAGE": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin",
        "WORKSPACE_STORAGE": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin",
        "MONGO_URL": "mongodb://localhost:27017",
        "SECRET": "secret",
        "BUCKET_NAME":"backups",
        "INTERVAL":"30",
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "showAsyncStacks": true,
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/pods/backup",
      "protocol": "inspector"
    },
    {
      "name": "Debug Github integration",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "MONGO_URL": "mongodb://localhost:27017",
        "SERVER_SECRET": "secret",
        "ACCOUNTS_URL": "http://localhost:3000",
        "APP_ID": "${env:POD_GITHUB_APPID}",
        "CLIENT_ID": "${env:POD_GITHUB_CLIENTID}",
        "CLIENT_SECRET": "${env:POD_GITHUB_CLIENT_SECRET}",
        "PRIVATE_KEY": "${env:POD_GITHUB_PRIVATE_KEY}",
        "COLLABORATOR_URL": "ws://localhost:3078",
        "SYSTEM_EMAIL": "anticrm@hc.engineering",
        "MINIO_ENDPOINT": "localhost",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "PLATFORM_OPERATION_LOGGING": "true",
        "FRONT_URL": "http://localhost:8080",
        "PORT": "3500"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/github/pod-github",
      "protocol": "inspector",
      "outputCapture": "std"
    },
    {
      "name": "Debug qms workers",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "ACCOUNTS_URL": "http://localhost:3000",
        "SYSTEM_EMAIL": "anticrm@hc.engineering",
        "SECRET": "secret",
        "DOCS_RELEASE_INTERVAL": "10000",
        "DOCS_IN_REVIEW_CHECK_INTERVAL": "10000",
        "DOCS_REVIEW_PERIOD_IN_MONTHS": "1"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "showAsyncStacks": true,
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/pods/workers"
    },
    {
      "name": "Debug doc import tool",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "import", "--spec", "toc.json", "docx", "ws", "person-owner"],
      "env": {
        "SERVER_SECRET": "secret",
        "ACCOUNTS_URL": "http://localhost:3000",
        "COLLABORATOR_URL": "ws://localhost:3078",
        "STORAGE_CONFIG": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin",
        "MONGO_URL": "mongodb://localhost:27017"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "showAsyncStacks": true,
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/dev/doc-import-tool",
      "protocol": "inspector"
    },
    {
      "name": "Debug print",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "PORT": "4005",
        "SECRET": "secret",
        "MONGO_URL": "mongodb://localhost:27017",
        "STORAGE_CONFIG": "minio|localhost?accessKey=minioadmin&secretKey=minioadmin"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/print/pod-print"
    },
    {
      "name": "Debug sign",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "PORT": "4006",
        "SECRET": "secret",
        "CERTIFICATE_PATH": "${workspaceRoot}/services/sign/pod-sign/debug/certificate.p12",
        "MONGO_URL": "mongodb://localhost:27017",
        "MINIO_ENDPOINT": "localhost",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "SERVICE_ID": "sign-service",
        "SYSTEM_EMAIL": "",
        "ACCOUNTS_URL": "http://localhost:3000",
        "BRANDING_PATH": "${workspaceRoot}/services/sign/pod-sign/debug/branding.json"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/sign/pod-sign"
    },
    {
      "name": "Debug rekoni",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "PORT": "4004",
        "SERVICE_ID": "rekoni-service",
        "SECRET": "secret"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/rekoni",
      "protocol": "inspector"
    },
    {
      "name": "Debug analytics collector",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "PORT": "4017",
        "SECRET": "secret",
        "MONGO_URL": "mongodb://localhost:27017",
        "MINIO_ENDPOINT": "localhost",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "SERVER_SECRET": "secret",
        "SERVICE_ID": "analytics-collector",
        "SUPPORT_WORKSPACE": "support",
        "ACCOUNTS_URL": "http://localhost:3000"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "sourceMaps": true,
      "showAsyncStacks": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/services/analytics-collector/pod-analytics-collector"
    },
    {
      "name": "Debug AI bot",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "ACCOUNTS_URL": "http://localhost:3000",
        "MONGO_URL": "mongodb://localhost:27017",
        "PORT": "4010",
        "SERVER_SECRET": "secret",
        "SUPPORT_WORKSPACE": "support",
        "FIRST_NAME": "Jolie",
        "LAST_NAME": "AI",
        "PASSWORD": "password",
        "AVATAR_PATH": "./assets/avatar.png",
        "AVATAR_CONTENT_TYPE": ".png",
        "OPENAI_API_KEY": "token"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/ai-bot/pod-ai-bot",
      "protocol": "inspector",
      "outputCapture": "std"
    },
    {
      "name": "Debug telegram bot",
      "type": "node",
      "request": "launch",
      "args": ["src/index.ts"],
      "env": {
        "PORT": "4020",
        "BOT_TOKEN": "token",
        "MONGO_URL": "mongodb://localhost:27017",
        "MONGO_DB": "telegram-bot",
        "SECRET": "secret",
        "ACCOUNTS_URL": "http://localhost:3000",
        "SERVICE_ID": "telegram-bot-service",
        "MINIO_ACCESS_KEY": "minioadmin",
        "MINIO_SECRET_KEY": "minioadmin",
        "MINIO_ENDPOINT": "localhost"
      },
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "runtimeVersion": "20",
      "sourceMaps": true,
      "cwd": "${workspaceRoot}/services/telegram-bot/pod-telegram-bot"
    },
    {
      "type": "chrome",
      "name": "Attach to Browser",
      "request": "attach",
      "urlFilter": "http://localhost:8080/*",
      "port": 9222,
      "sourceMapPathOverrides": {
        "webpack://*": "${workspaceFolder}/*",
      }
    },
    {
      "name": "Debug Notion import",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "import-notion-to-teamspace", "/home/anna/work/notion/natalya/Export-fad9ecb4-a1a5-4623-920d-df32dd423743", "-u", "user1", "-pw", "1234", "-ws", "ws5", "-ts", "notion", ],
      // "args": ["src/__start.ts", "import-notion-with-teamspaces", "/home/anna/work/notion/natalya/Export-fad9ecb4-a1a5-4623-920d-df32dd423743", "-u", "user1", "-pw", "1234", "-ws", "ws1"],
      "env": {
        "FRONT_URL": "http://localhost:8087",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/dev/import-tool"
    },
    {
      "name": "Debug ClickUp import",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "import-clickup-tasks", "/home/anna/work/clickup/aleksandr/debug/mentions.csv", "-u", "user1", "-pw", "1234", "-ws", "ws5"],
      "env": {
        "FRONT_URL": "http://localhost:8087",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/dev/import-tool"
    },
    {
      "name": "Debug Huly import",
      "type": "node",
      "request": "launch",
      "args": ["src/__start.ts", "import-huly-issues", "/home/anna/xored/huly/platform/dev/import-tool/examples/v4-inside-out", "-u", "user1", "-pw", "1234", "-ws", "ws9"],
      "env": {
        "FRONT_URL": "http://localhost:8087",
      },
      "runtimeVersion": "20",
      "runtimeArgs": ["--nolazy", "-r", "ts-node/register"],
      "sourceMaps": true,
      "outputCapture": "std",
      "cwd": "${workspaceRoot}/dev/import-tool"
    },
  ]
}
