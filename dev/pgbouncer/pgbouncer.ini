# pgbouncer.ini - local development configuration
# - Uses trust auth for simplicity in local environment
# - Proxies to the 'postgres' service on port 5432
# - Listens for client connections on port 6432

[databases]
# Map a logical database name to a backend connection specification.
# In this dev setup we route the 'postgres' DB to the postgres container.
postgres = host=postgres port=5432 dbname=postgres

[pgbouncer]
# Network settings
listen_addr = 0.0.0.0
listen_port = 6432

# Authentication â€” use trust for local dev to avoid password hassles in tests.
# For production, switch to md5 and provide a proper userlist.
auth_type = trust
auth_file = /etc/pgbouncer/userlist.txt
admin_users = postgres

# Pooling / performance
pool_mode = transaction
default_pool_size = 20
max_client_conn = 100
server_reset_query = DISCARD ALL

# Logging / pid
logfile = /var/log/pgbouncer/pgbouncer.log
pidfile = /var/run/pgbouncer/pgbouncer.pid

# Misc
stats_period = 60
ignore_startup_parameters = extra_float_digits,application_name
